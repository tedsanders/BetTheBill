<!doctype html>
<html lang="en" ng-app="bet-the-bill">

   <head>
      <!-- meta -->
      <meta charset="utf-8">
      <title>Bet the Bill</title>
      <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, user-scalable=no' />
      <meta name="description" content="Bet the Bill: a fun, fair way to split the bill when out with friends">
      <meta name="author" content="Ted Sanders and Niru Maheswaranathan">
      <link rel="shortcut icon" href="http://www.tedsanders.com/favicon.ico">
      <!-- css -->
      <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
      <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
      <link href="styles.css" rel="stylesheet" type="text/css">
      <!-- javascript -->
      <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.2/angular.min.js"></script>
      <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
      <script src="main.js" type="text/javascript"></script>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.10/d3.min.js" charset="utf-8"></script>
   </head>

   <body>
      <div class="upper-container"  ng-controller="DinerCtrl">
         <header class="clearfix">
            <h1 id="btb-title" class="text-left">Bet the Bill</h1>
            <h2 id="btb-about" class="text-right"><a id="about" type="button" ng-click="swapAbout()" tabindex="-1">About</a></h2>
         </header>

         <div class="row marketing animate-create">
           <div ng-show="showAbout">
           <p>Have you thought about improving your communal culinary experience lately? BetTheBill is transforming the way that groups of people have been eating for hundreds of years. Rather dealing with the annoyance and pain of splitting checks, BetTheBill saves you time and energy by instead choosing one member of the group to cover the cost of the entire meal. </p>
           <p>Here's how it works: once you enter the name and meal cost of each person in your party, our randomized algorithm chooses one unlucky person to pay for the entire meal. However, what makes BetTheBill different from other bets (such as credit card roulette), is that your chance of paying for the meal is proportional to how much you spend. This way it's fair no matter whether you got the house salad or the sirloin steak. </p>
           </div>
            <div class="result" ng-show="showResult">
               <p>{{ loser.name }} (who owed {{ loser.amount | currency }}) must pay the total of {{ total() | currency}}</p>
            </div>
            <form class="form-horizontal" ng-show="showForm">
               <div class="form-group" ng-repeat="diner in diners">
                  <div class="col-xs-5">
                     <input type="text" class="form-control text-right" ng-model="diner.name" ng-change="updateChart()" onclick="this.select()">
                  </div>
                  <div class="col-xs-5">
                     <input type="number" class="form-control text-right" min="0" smart-float ng-model="diner.amount" ng-change="updateChart()" onclick="this.select()">
                  </div>
                  <div class="col-xs-2">
                     <button ng-click="removeDiner($index)" class="btn btn-danger" type="button" ng-disabled="disableRemoveDiner" tabindex="-1">
                        <i class="fa fa-times"></i>
                     </button>
                  </div>
               </div>
               <div class="form-group">
                  <div class="col-xs-5">
                     <button ng-click="addDiner()" class="btn btn-info" id="add-diner-button" type="button">
                        Add diner
                     </button>
                  </div>
                  <div class="col-xs-5">
                     <span class="h4 pull-left">Total: </span><span class="h4 pull-right">{{ total() | currency }}</span>
                  </div>
               </div>
               <div class="form-group">
                  <div class="col-xs-10">
                     <button ng-click="betBill()" class="btn btn-success" id="bet-the-bill-button" type="button">Bet the Bill!</button>
                  </div>
               </div>
            </form>
            <form class="form-horizontal" ng-hide="showForm">
               <div class="form-group">
                  <div class="col-xs-12">
                     <button ng-click="goBack()" ng-disabled="disableBackButton" class="btn btn-default" type="button" id="go-back-button">Go Back</button>
                  </div>
                  <!--"col-sm-4 col-lg-2" <div class="col-sm-4 col-lg-2">
                     <button ng-click="startOver()" class="btn btn-danger" type="button">Start Over</button>
                  </div>-->
               </div>
            </form>
         </div>

         <!-- Experimental Pie Chart Works -->
			<div id="pie-chart" ng-show="showPie"><div id="arrow"></div></div>

      <div class="push"></div>
</div> <!-- /container -->

      <div class="lower-container">
        <footer>
          <p>created by <a href="http://www.tedsanders.com/about/" tabindex="-1">Ted Sanders</a> and <a href="http://niru.org/" tabindex="-1">Niru Maheswaranathan</a></p>
        </footer>
      </div>




      <!--Google Tracking Code. It's at the end of body to improve performace. Better performance >> better tracking accuracy. Also, this the code for tedsanders.com GA. I'm assuming that's better than a separate code for BtB, but still not sure.
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-20709002-1', 'tedsanders.com');
        ga('send', 'pageview');-->
      </script>

   </body>

</html>
